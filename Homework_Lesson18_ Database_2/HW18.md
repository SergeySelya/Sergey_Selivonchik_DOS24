## Задание:
Цель: научиться реализовывать отказоустойчивое решение для баз
данных (на примере Postgresql либо MySQL)
Задание 1:
1. Создать два сервера, установить на них PostgreSQL либо MySQL и подключить их к
одной сети.
2. Настроить репликацию между серверами, чтобы изменения, вносимые
на одном сервере, автоматически реплицировались на другой. (Зеркалирование)
3. Настроить отказоустойчивость, используя репликацию и механизм
автоматического переключения между серверами. (Кластер*) Кластер по желанию и по возможности.
4. Проверить работу отказоустойчивого решения, симулируя отказ одного
из серверов и убедившись, что второй сервер продолжает работу и все
данные сохранены с обоими видами репликации (Зеркалирование подразумевает, что реплика автоматически подключится к главное ноде в случае, когда она станет вновь доступна)
Опционально:
● Настроить систему резервного копирования, чтобы регулярно создавать
бэкапы данных и сохранять их на отдельном сервере (либо на отдельном диске, либо папке) через SSH.
● Документировать все шаги по настройке и проверке отказоустойчивого
решения и подготовить отчет о выполненной работе. 

## Решение
# Настройка репликации MySQL между двумя Ubuntu серверами

### Описание
В этом руководстве описана настройка **репликации MySQL** между двумя машинами Ubuntu с использованием зеркалирования данных. Репликация будет настроена с двумя машинами:

- **Машина 1 (Master)**: `3.86.212.159`
- **Машина 2 (Slave)**: `54.161.233.71`

### Шаг 1: Установка MySQL на обеих машинах

1. **Обновите пакеты и установите MySQL сервер** на обеих машинах:

    ```bash
    sudo apt update
    sudo apt install mysql-server -y
    ```

2. **Проверьте, что MySQL работает на обеих машинах**:

    ```bash
    sudo systemctl status mysql
    ```

    Если MySQL не запущен, выполните:

    ```bash
    sudo systemctl start mysql
    ```

### Шаг 2: Настройка MySQL на Master-сервере (Машина 1: 3.86.212.159)

1. **Откройте конфигурационный файл MySQL**:

    ```bash
    sudo nano /etc/mysql/mysql.conf.d/mysqld.cnf
    ```

2. В файле конфигурации `mysqld.cnf` измените или добавьте следующие параметры:

    ```ini
    # Включение бинарных логов
    log-bin=mysql-bin

    # Уникальный ID сервера
    server-id=1

    # Разрешение подключения с любых IP-адресов
    bind-address=0.0.0.0
    ```

3. **Перезапустите MySQL** на Master-сервере, чтобы применить изменения:

    ```bash
    sudo systemctl restart mysql
    ```

4. **Создайте пользователя для репликации** на Master-сервере:

    Подключитесь к MySQL:

    ```bash
    sudo mysql -u root -p
    ```

    Создайте пользователя для репликации:

    ```sql
    CREATE USER 'replica_user'@'%' IDENTIFIED BY 'password';
    GRANT REPLICATION SLAVE ON *.* TO 'replica_user'@'%';
    FLUSH PRIVILEGE
