# base on https://learn.kodekloud.com/user/courses/kubernetes-for-the-absolute-beginners-hands-on-tutorial/
Одна нода кубернетиса с несколькими контейнирами внутри - Миньён 
кластер - нескольно нод в каждой из который есть один контейнер

1. Master Node (Узел управления)
Master Node отвечает за управление кластером, координацию работы всех компонентов и управление состоянием кластера.

API Server (kube-apiserver): Центральный компонент, который принимает и обрабатывает все запросы к кластеру. Он взаимодействует с другими компонентами через REST API.
Controller Manager (kube-controller-manager): Управляет контроллерами, которые следят за состоянием кластера. Например, если количество реплик в поде меньше, чем указано, контроллер автоматически создаст недостающие реплики.
Scheduler (kube-scheduler): Отвечает за распределение подов по доступным узлам. Он решает, на каком узле будет запущен новый под, исходя из доступных ресурсов и других факторов.
etcd: Распределённое хранилище ключ-значение, где Kubernetes хранит всю информацию о конфигурации, состоянии и метаданных кластера.
2. Worker Node (Рабочий узел)
Рабочие узлы — это машины, которые выполняют контейнеризованные приложения (поды). Каждый рабочий узел включает в себя несколько компонентов:

Kubelet: Агент, который работает на каждом рабочем узле и управляет состоянием контейнеров в подах. Он следит за тем, чтобы контейнеры на узле работали в соответствии с описанием, отправленным API сервером.
Kube Proxy: Обеспечивает сетевое взаимодействие между сервисами и внешними клиентами, а также следит за балансировкой нагрузки между подами внутри кластера.
Container Runtime: Компонент, который отвечает за выполнение контейнеров. Наиболее распространёнными являются Docker, containerd, и CRI-O.
3. Дополнительные компоненты
Pod: Наименьшая единица развертывания в Kubernetes. Поды могут содержать один или несколько контейнеров, которые разделяют одни и те же ресурсы (например, сеть и хранилище).
Service: Абстракция, которая определяет, как контейнеры в подах могут взаимодействовать друг с другом или с внешним миром. Сервис помогает балансировать нагрузку и осуществлять доступ через постоянный IP или DNS.
ReplicaSet: Обеспечивает заданное количество реплик подов. Если какой-то под выйдет из строя, ReplicaSet создаст новый.
Deployment: Управляет развертыванием подов и ReplicaSet. Он позволяет обновлять приложения без простоя.
Namespace: Логическое разделение ресурсов в кластере, чтобы изолировать приложения или среды (например, для разработки, тестирования и продакшн).
ConfigMap и Secret: Объекты, которые позволяют хранить конфигурацию и чувствительные данные (например, пароли), которые могут быть использованы контейнерами.
Ingress: Обеспечивает HTTP и HTTPS маршрутизацию внешнего трафика к сервисам в кластере. Обычно используется для управления входящим трафиком на уровне HTTP.

```bash
# кол-во нод
kubectl get nodes
#информация о нодах
kubectl get nodes -o wide

# создание пода
kubectl run nginx --image=nginx
# инфо о поде
kubectl describe pod <name>
kubectl get pods 
kubectl get nodes -o wide
# создание пода с помощью yaml файла
kubectl create -f pod-definitions.yaml
kubectl apply -f pod-definitions.yaml
# посмотреть эти деплойменты
kubectl get deployments
#редактировать деплойменты
kubectl edit deployment <deployment-name>
```
<img width="905" alt="image" src="https://github.com/user-attachments/assets/dd3ac716-6433-4ccb-8d52-aed31771cce9" />
```bash
# удаление пода
kubectl delete pod <name>
# редактирование конфигурации пода
kubectl edit pod
# или изменить yaml файл и сделать следующую команды:
kubectl apply -f config.yml

kubectl create pod my-pod --image=nginx
kubectl create deployment my-deployment --image=nginx
kubectl create namespace my-namespace

kubectl get pods --field-selector spec.nodeName=<node-name>
```
ReplicaSet

<img width="848" alt="image" src="https://github.com/user-attachments/assets/f940dabb-0f4b-41e6-b810-74724093e55e" />

